CREATE TABLE IF NOT EXISTS ganre(id SERIAL PRIMARY KEY, name VARCHAR(30) NOT NULL);

CREATE TABLE IF NOT EXISTS artist(id SERIAL PRIMARY KEY, name VARCHAR(40) NOT NULL);

CREATE TABLE IF NOT EXISTS genreartist(genre_id INTEGER REFERENCES genre(id), artist_id INTEGER REFERENCES artist(id), CONSTRAINT ga PRIMARY KEY(genre_id, artist_id));

CREATE TABLE IF NOT EXISTS album(id SERIAL PRIMARY KEY, name VARCHAR(40) NOT NULL, year INTEGER NOT NULL);

CREATE TABLE IF NOT EXISTS artistalbum(album_id INTEGER REFERENCES album(id), artist_id INTEGER REFERENCES artist(id), CONSTRAINT aa PRIMARY KEY(album_id, artist_id));

CREATE TABLE IF NOT EXISTS track(id SERIAL PRIMARY KEY, name VARCHAR(40) NOT NULL, duration INTEGER NOT NULL, album_id INTEGER NOT NULL REFERENCES album(id));

CREATE TABLE IF NOT EXISTS collection(id SERIAL PRIMARY KEY, name VARCHAR(40) NOT NULL, year INTEGER NOT NULL);

CREATE TABLE IF NOT EXISTS albumtrack(collection_id INTEGER REFERENCES collection(id), track_id INTEGER REFERENCES track(id), CONSTRAINT at PRIMARY KEY(collection_id, track_id));

